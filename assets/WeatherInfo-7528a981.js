import{r as g,j as e,P as p}from"./vendor-d0eccd61.js";import{S as $}from"./index-ed6a5d7d.js";import{P as q}from"./PageHead-9dd9e60a.js";const w={ì œì£¼ì‹œ:[{name:"í•œë¦¼ì",x:48,y:36},{name:"ì• ì›”ì",x:49,y:37},{name:"êµ¬ì¢Œì",x:59,y:33},{name:"ì¡°ì²œì",x:59,y:38},{name:"í•œê²½ë©´",x:46,y:35},{name:"ì¶”ìžë©´",x:48,y:48},{name:"ìš°ë„ë©´",x:60,y:38},{name:"ì¼ë„ë™",x:53,y:38},{name:"ì´ë„ë™",x:53,y:38},{name:"ì‚¼ë„ë™",x:53,y:38},{name:"ìš©ë‹´ë™",x:52,y:38},{name:"ê±´ìž…ë™",x:53,y:38},{name:"í™”ë¶ë™",x:53,y:38},{name:"ì‚¼ì–‘ë™",x:54,y:38},{name:"ë´‰ê°œë™",x:53,y:38},{name:"ì•„ë¼ë™",x:54,y:37},{name:"ì˜¤ë¼ë™",x:52,y:38},{name:"ì—°ë™",x:52,y:38},{name:"ë…¸í˜•ë™",x:52,y:38},{name:"ì™¸ë„ë™",x:51,y:38},{name:"ì´í˜¸ë™",x:51,y:38},{name:"ë„ë‘ë™",x:52,y:38}],ì„œê·€í¬ì‹œ:[{name:"ëŒ€ì •ì/ë§ˆë¼ë„",x:48,y:32},{name:"ë‚¨ì›ì",x:56,y:33},{name:"ì„±ì‚°ì",x:60,y:37},{name:"ì•ˆë•ë©´",x:49,y:32},{name:"í‘œì„ ë©´",x:58,y:34},{name:"ì†¡ì‚°ë™",x:53,y:32},{name:"ì •ë°©ë™",x:53,y:32},{name:"ì¤‘ì•™ë™",x:53,y:32},{name:"ì²œì§€ë™",x:53,y:32},{name:"íš¨ëˆë™",x:54,y:33},{name:"ì˜ì²œë™",x:54,y:33},{name:"ë™í™ë™",x:53,y:33},{name:"ì„œí™ë™",x:53,y:33},{name:"ëŒ€ë¥œë™",x:52,y:32},{name:"ëŒ€ì²œë™",x:52,y:32},{name:"ì¤‘ë¬¸ë™",x:51,y:32},{name:"ì˜ˆëž˜ë™",x:50,y:32}]};function P({onCityChange:s,onSublocationChange:n,onCoordinatesChange:x}){const[o,c]=g.useState(""),[l,t]=g.useState(""),[r,a]=g.useState({x:52,y:38}),d=i=>{c(i.target.value),a({x:null,y:null}),s(i.target.value)},y=i=>{t(i.target.value),n(i.target.value);const h=w[o].find(j=>j.name===i.target.value);h&&(a({x:h.x,y:h.y}),x({x:h.x,y:h.y}))};return e.jsxs("div",{className:"flex flex-row gap-x-10",children:[e.jsx("p",{className:"text-xl text-center",children:"ì§€ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”"}),e.jsxs("select",{name:"city",className:"mx-3",onChange:d,children:[e.jsx("option",{children:"- ì‹œ -"}),Object.keys(w).map(i=>e.jsx("option",{value:i,children:i},i))]}),e.jsxs("select",{name:"sublocation",onChange:y,children:[e.jsx("option",{children:"- ë™/ì -"}),(w[o]||[]).map(i=>e.jsx("option",{value:i.name,children:i.name},i.name))]})]})}P.propTypes={onCityChange:p.func,onSublocationChange:p.func,onCoordinatesChange:p.func};function V({data:s}){var d,y,i,h,j,N,m,f;if(g.useEffect(()=>{console.log("data has changed:",s)},[s]),console.log("data:",s),!s.response)return e.jsx("div",{className:"grid place-content-center h-[600px]",children:e.jsx($,{size:160})});const n=(h=(i=(y=(d=s==null?void 0:s.response)==null?void 0:d.body)==null?void 0:y.items)==null?void 0:i.item[5])==null?void 0:h.fcstValue;let x="",o="",c="";n<=5?(x="https://frontendschool6.github.io/finalize-react-6/weather/clear.svg",o="ë§‘ìŒ",c="ë§‘ìŒ"):n>=6&&n<=8?(x="https://frontendschool6.github.io/finalize-react-6/weather/partly_cloudy.svg",o="êµ¬ë¦„ ë§ŽìŒ",c="êµ¬ë¦„ ë§ŽìŒ"):(x="https://frontendschool6.github.io/finalize-react-6/weather/cloudy.svg",o="íë¦¼",c="íë¦¼");const l=(f=(m=(N=(j=s==null?void 0:s.response)==null?void 0:j.body)==null?void 0:N.items)==null?void 0:m.item[6])==null?void 0:f.fcstValue;console.log("rain:",l);let t="",r="",a="";return l===1?(t="https://frontendschool6.github.io/finalize-react-6/weather/rain.svg",r="ë¹„",a="ë¹„"):l===2?(t="https://frontendschool6.github.io/finalize-react-6/weather/snow.svg",r="ë¹„ ë˜ëŠ” ëˆˆ",a="ë¹„ ë˜ëŠ” ëˆˆ"):l===3?(t="https://frontendschool6.github.io/finalize-react-6/weather/snow.svg",r="ëˆˆ",a="ëˆˆ"):l===4&&(t="https://frontendschool6.github.io/finalize-react-6/weather/rain.svg",r="ì†Œë‚˜ê¸°",a="ì†Œë‚˜ê¸°"),e.jsxs("div",{className:"flex gap-24  justify-center items-center",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("img",{src:x,alt:o,className:"w-[120px] h-[120px]"}),c]}),l!==0&&t&&e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("img",{src:t,alt:r,className:"w-[120px] h-[120px]"}),a]})]})}V.propTypes={data:p.object.isRequired};function D({data:s,category:n,text:x}){var o,c;return s.response?e.jsx(e.Fragment,{children:(c=(o=s==null?void 0:s.response)==null?void 0:o.body)==null?void 0:c.items.item.filter(l=>parseInt(l.fcstTime.slice(0,2),10)%3===0&&l.category===n).slice(0,8).map(l=>{let t;if(n==="SKY"){const r=parseInt(l.fcstValue);r<=5?t="ë§‘ìŒ":r>=6&&r<=8?t="êµ¬ë¦„ ë§ŽìŒ":r>=9&&(t="íë¦¼")}else if(n==="PTY"){const r=parseInt(l.fcstValue);r===0?t="ì—†ìŒ":r===1?t="ë¹„":r===2?t="ë¹„ ë˜ëŠ” ëˆˆ":r===3?t="ëˆˆ":r===4&&(t="ì†Œë‚˜ê¸°")}else t=`${parseInt(l.fcstValue)}${x}`;return e.jsx("td",{className:"border-2",children:t},`${l.fcstDate}-${l.fcstTime}`)})}):e.jsx("div",{className:"grid place-content-center h-[600px]",children:e.jsx($,{size:160})})}D.propTypes={data:p.object.isRequired,category:p.string.isRequired,text:p.string};function R({data:s}){var n,x,o;return s.response?e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"border-2 w-2/3 text-center text-xl",children:[e.jsx("thead",{className:"border-2",children:e.jsxs("tr",{className:"bg-lightsand",children:[e.jsx("th",{className:"border-2 h-[50px]"}),(o=(x=(n=s==null?void 0:s.response)==null?void 0:n.body)==null?void 0:x.items)==null?void 0:o.item.filter(c=>parseInt(c.fcstTime.slice(0,2),10)%3===0&&c.category==="TMP").slice(0,8).map(c=>{const t=`${parseInt(c.fcstTime.slice(0,2),10)}ì‹œ`;return e.jsx("th",{className:"border-2",children:t},`${c.fcstDate}-${c.fcstTime}`)})]})}),e.jsxs("tbody",{className:"border-2",children:[e.jsxs("tr",{children:[e.jsx("th",{className:"border-2 h-[50px]",children:"ê¸°ì˜¨"}),e.jsx(D,{data:s,category:"TMP",text:"Â°C"})]}),e.jsxs("tr",{className:"bg-lightsand",children:[e.jsx("th",{className:"border-2 h-[50px]",children:"í•˜ëŠ˜ ìƒíƒœ"}),e.jsx(D,{data:s,category:"SKY"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"border-2 h-[50px]",children:"ìŠµë„"}),e.jsx(D,{data:s,category:"REH",text:"%"})]}),e.jsxs("tr",{className:"bg-lightsand",children:[e.jsx("th",{className:"border-2 h-[50px]",children:"ê°•ìˆ˜ í˜•íƒœ"}),e.jsx(D,{data:s,category:"PTY"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"border-2 h-[50px]",children:"ê°•ìˆ˜ í™•ë¥ "}),e.jsx(D,{data:s,category:"POP",text:"%"})]}),e.jsxs("tr",{className:"bg-lightsand",children:[e.jsx("th",{className:"border-2 h-[50px]",children:"í’ì†"}),e.jsx(D,{data:s,category:"WSD",text:"m/s"})]})]})]}),e.jsx("span",{className:"w-2/3 text-right mt-[-30px]",children:"í’ì†: 4ë¯¸ë§Œ(ì•½í•¨), 4ì´ìƒ 9ë¯¸ë§Œ(ì•½ê°„ ê°•í•¨), 9ì´ìƒ 14ë¯¸ë§Œ(ê°•í•¨), 14ì´ìƒ(ë§¤ìš°ê°•í•¨)"})]}):e.jsx("div",{className:"grid place-content-center h-[600px]",children:e.jsx($,{size:160})})}R.propTypes={data:p.object.isRequired};function M({data:s}){var n,x,o,c,l,t,r,a,d,y,i,h,j,N,m,f;return s.response?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-5xl",children:[(c=(o=(x=(n=s==null?void 0:s.response)==null?void 0:n.body)==null?void 0:x.items)==null?void 0:o.item[0])==null?void 0:c.fcstValue,"Â°C"]}),e.jsx(V,{data:s}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-xl px-10",children:["ðŸ’§ ìŠµë„ ",(a=(r=(t=(l=s==null?void 0:s.response)==null?void 0:l.body)==null?void 0:t.items)==null?void 0:r.item[10])==null?void 0:a.fcstValue,"%"]}),e.jsxs("span",{className:"text-xl px-10",children:["â˜”ï¸ ê°•ìˆ˜í™•ë¥  ",(h=(i=(y=(d=s==null?void 0:s.response)==null?void 0:d.body)==null?void 0:y.items)==null?void 0:i.item[7])==null?void 0:h.fcstValue,"%"]}),e.jsxs("span",{className:"text-xl px-10",children:["ðŸŒªï¸ í’ì† ",(f=(m=(N=(j=s==null?void 0:s.response)==null?void 0:j.body)==null?void 0:N.items)==null?void 0:m.item[4])==null?void 0:f.fcstValue,"m/s"]})]}),e.jsx(R,{data:s})]}):e.jsx("div",{className:"grid place-content-center h-[600px]",children:e.jsx($,{size:160})})}M.propTypes={data:p.object.isRequired};function v({data:s,category:n,text:x}){var c,l;if(!s.response)return e.jsx("div",{className:"grid place-content-center h-[600px]",children:e.jsx($,{size:160})});const o=(l=(c=s==null?void 0:s.response)==null?void 0:c.body)==null?void 0:l.items.item.filter(t=>(n==="TMN"?t.fcstTime==="0600":t.fcstTime==="1500")&&t.category===n);return e.jsx(e.Fragment,{children:o.map(t=>{let r;if(n==="SKY"){const a=parseInt(t.fcstValue);a<=5?r="ë§‘ìŒ":a>=6&&a<=8?r="êµ¬ë¦„ ë§ŽìŒ":a>=9&&(r="íë¦¼")}else if(n==="PTY"){const a=parseInt(t.fcstValue);a===0?r="ì—†ìŒ":a===1?r="ë¹„":a===2?r="ë¹„ ë˜ëŠ” ëˆˆ":a===3?r="ëˆˆ":r="ì†Œë‚˜ê¸°"}else r=`${parseInt(t.fcstValue)}${x}`;return e.jsx("td",{className:"border-2",children:r},`${t.fcstDate}-${t.fcstTime}`)})})}v.propTypes={data:p.object.isRequired,category:p.string.isRequired,text:p.string};function Y({coordinates:s}){var o,c,l;const[n,x]=g.useState({});return g.useEffect(()=>{const t="http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst",r="4vq6kWslvJHgm6Z3JNfZ797PVPnMRYzMInRfcfx9volp2z1Dxf9qMU49eqXJ590RXLgYbOTjSQ1aC0easyCbUw%3D%3D",a=new Date,d=a.getFullYear(),y=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");let h=`${d}${y}${i}`;if(a.getHours()<2){const m=new Date(a);m.setDate(m.getDate()-1);const f=m.getFullYear(),T=String(m.getMonth()+1).padStart(2,"0"),u=String(m.getDate()).padStart(2,"0");h=`${f}${T}${u}`}async function N(){const{x:m,y:f}=s,T=`${t}?serviceKey=${r}&pageNo=1&numOfRows=1500&dataType=JSON&base_date=${h}&base_time=0200&nx=${m}&ny=${f}`;try{const u=await fetch(T);if(!u.ok)throw new Error(`HTTP error! Status: ${u.status}`);const C=await u.json();x(C)}catch(u){console.error("Error fetching data:",u)}}N()},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"border-2 w-2/3 text-center text-xl",children:[e.jsx("thead",{className:"border-2",children:e.jsxs("tr",{className:"bg-lightsand",children:[e.jsx("th",{className:"border-2 h-[50px]"}),(l=(c=(o=n==null?void 0:n.response)==null?void 0:o.body)==null?void 0:c.items)==null?void 0:l.item.filter(t=>!!(t.fcstDate&&t.category==="TMX")).map(t=>{const r=parseInt(t.fcstDate.slice(4,6),10),a=parseInt(t.fcstDate.slice(6),10);return e.jsx("th",{className:"border-2",children:`${r}/${a}`},`${t.fcstDate}-${t.fcstTime}-${t.category}`)})]})}),e.jsxs("tbody",{className:"border-2",children:[e.jsxs("tr",{children:[e.jsxs("th",{className:"border-2 h-[50px]",children:["ìµœ",e.jsx("span",{className:"text-red-600",children:"ê³ "})," ê¸°ì˜¨"]}),n&&e.jsx(v,{data:n,category:"TMX",text:"Â°C"})]}),e.jsxs("tr",{children:[e.jsxs("th",{className:"border-2 h-[50px]",children:["ìµœ",e.jsx("span",{className:"text-sky-600",children:"ì €"})," ê¸°ì˜¨"]}),e.jsx(v,{data:n,category:"TMN",text:"Â°C"})]}),e.jsxs("tr",{className:"bg-lightsand",children:[e.jsx("th",{className:"border-2 h-[50px]",children:"í•˜ëŠ˜ ìƒíƒœ"}),e.jsx(v,{data:n,category:"SKY"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"border-2 h-[50px]",children:"ìŠµë„"}),e.jsx(v,{data:n,category:"REH",text:"%"})]}),e.jsxs("tr",{className:" bg-lightsand",children:[e.jsx("th",{className:"border-2 h-[50px]",children:"ê°•ìˆ˜ í˜•íƒœ"}),e.jsx(v,{data:n,category:"PTY"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"border-2 h-[50px]",children:"ê°•ìˆ˜ í™•ë¥ "}),e.jsx(v,{data:n,category:"POP",text:"%"})]}),e.jsxs("tr",{className:"bg-lightsand",children:[e.jsx("th",{className:"border-2 h-[50px]",children:"í’ì†"}),e.jsx(v,{data:n,category:"WSD",text:"m/s"})]})]})]}),e.jsx("span",{className:"w-2/3 text-right mt-[-30px]",children:"í’ì†: 4ë¯¸ë§Œ(ì•½í•¨), 4ì´ìƒ 9ë¯¸ë§Œ(ì•½ê°„ ê°•í•¨), 9ì´ìƒ 14ë¯¸ë§Œ(ê°•í•¨), 14ì´ìƒ(ë§¤ìš°ê°•í•¨)"})]})}Y.propTypes={coordinates:p.object.isRequired};function E(){var a;const[s,n]=g.useState({}),[x,o]=g.useState(""),[c,l]=g.useState(""),[t,r]=g.useState({x:52,y:38});return g.useEffect(()=>{const d="http://apis.data.go.kr/1360000/VilageFcstInfoService_2.0/getVilageFcst",y="4vq6kWslvJHgm6Z3JNfZ797PVPnMRYzMInRfcfx9volp2z1Dxf9qMU49eqXJ590RXLgYbOTjSQ1aC0easyCbUw%3D%3D",i=new Date,h=i.getFullYear(),j=String(i.getMonth()+1).padStart(2,"0"),N=String(i.getDate()).padStart(2,"0");let m=`${h}${j}${N}`;const f=i.getHours(),T=["0200","0500","0800","1100","1400","1700","2000","2300"];let u;if(f<2){const b=new Date(i);b.setDate(b.getDate()-1);const S=b.getFullYear(),I=String(b.getMonth()+1).padStart(2,"0"),z=String(b.getDate()).padStart(2,"0");m=`${S}${I}${z}`,u="2300"}else{const b=T.findIndex(S=>f<parseInt(S.slice(0,2)));u=b!==-1?T[b-1]:"2300"}async function C(){const b=`${d}?serviceKey=${y}&pageNo=1&numOfRows=1500&dataType=JSON&base_date=${m}&base_time=${u}&nx=${t.x}&ny=${t.y}`;try{const S=await fetch(b);if(!S.ok)throw new Error(`HTTP error! Status: ${S.status}`);const I=await S.json();n(I)}catch(S){console.error("Error fetching data:",S)}}C()},[t]),e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"Jeju All in One - ì œì£¼ ë‚ ì”¨"}),e.jsxs("div",{className:"py-2 mt-5 mb-10",children:[e.jsx("h2",{className:"text-blue font-semibold text-4xl text-center",children:"ì œì£¼ ë‚ ì”¨"}),e.jsxs("div",{className:"flex flex-col justify-center items-center gap-10",children:[e.jsxs("div",{children:[!x&&!c&&e.jsx("p",{className:"mt-10 font-medium text-xl",children:"ì œì£¼ì‹œ ìš©ë‹´ë™"}),c&&((a=w[x])!=null&&a.find(d=>d.name===c))?e.jsxs("p",{className:"mt-10 font-medium text-xl",children:[x," ",c]}):""]}),e.jsx("hr",{className:"w-full"}),e.jsx(P,{onCityChange:o,onSublocationChange:l,onCoordinatesChange:r}),e.jsx(M,{data:s}),e.jsx(Y,{coordinates:t})]})]})]})}export{E as default};
