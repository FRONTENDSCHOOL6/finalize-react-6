import{r as i,j as a}from"./vendor-d0eccd61.js";import{P as x}from"./PageHead-9dd9e60a.js";function h(){const r=i.useRef(null),[c,m]=i.useState(""),[p,w]=i.useState([]);i.useEffect(()=>{if(window.kakao&&window.kakao.maps){const n=document.getElementById("mapContainer"),l={center:new window.kakao.maps.LatLng(33.5068,126.4929),level:5},s=new window.kakao.maps.Map(n,l);r.current=s,s.addOverlayMapTypeId(window.kakao.maps.MapTypeId.TRAFFIC);const e=new window.kakao.maps.ZoomControl;s.addControl(e,window.kakao.maps.ControlPosition.RIGHT)}},[]);function u(){if(!window.kakao||!window.kakao.maps||!r.current)return;new window.kakao.maps.services.Places().keywordSearch(c,function(e,o){s();let t=[];if(o===window.kakao.maps.services.Status.OK){for(let d=0;d<e.length;d++){let f=l(e[d]);t.push(f)}w(t)}}),m("");function l(e){const o=new window.kakao.maps.Marker({position:new window.kakao.maps.LatLng(e.y,e.x),map:r.current}),t=new window.kakao.maps.InfoWindow({zIndex:1});return window.kakao.maps.event.addListener(o,"mouseover",function(){t.setContent('<div className="p-1 text-sm">'+e.place_name+"</div>"),t.open(r.current,o)}),window.kakao.maps.event.addListener(o,"mouseout",function(){t.close()}),o}function s(){for(let e=0;e<p.length;e++)p[e].setMap(null);w([])}}function k(n){n.key==="Enter"&&u()}return a.jsxs("div",{className:"mb-10 relative border-4 border-blue w-[80%] h-[900px]",children:[a.jsx("div",{id:"mapContainer",className:"w-full h-full relative",children:a.jsx("div",{id:"map",className:"w-full h-full"})}),a.jsxs("div",{className:"absolute top-5 left-5 flex gap-2 z-10",children:[a.jsx("input",{type:"text",value:c,className:"w-[400px] px-5 py-3 border-[3px] border-white rounded-lg",placeholder:"장소 검색",onChange:n=>m(n.target.value),onKeyPress:k}),a.jsx("button",{className:"w-[70px] bg-blue text-white border-0 rounded-lg",onClick:u,children:"검색"})]})]})}function j(){return a.jsxs(a.Fragment,{children:[a.jsx(x,{title:"Jeju All in One - 제주 교통"}),a.jsxs("div",{className:"py-2 mt-5 flex flex-col justify-center items-center",children:[a.jsx("h2",{className:"text-blue font-semibold text-4xl text-center mb-10",children:"실시간 교통 상황"}),a.jsx(h,{})]})]})}export{j as default};
