import{r as o,j as e,b as N,o as l,z as k}from"./vendor-544b9a11.js";import{p as C}from"./index-f591e0b4.js";import{C as p,B as w,L as O,a as y,I as u,b as v}from"./Button-ee0213e7.js";import{P as J}from"./PageHead-0272f252.js";function g({children:r}){const[s,d]=o.useState(!1),a=()=>{d(!s)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"text-sm rounded-full",onClick:a,children:">"}),s?e.jsx("div",{onClick:a,className:"fixed flex justify-center items-center bg-black bg-opacity-40 rounded-lg top-0 left-0 right-0 bottom-0 z-10",children:e.jsxs("div",{onClick:x=>x.stopPropagation(),role:"dialog",className:"flex flex-col bg-white rounded-lg w-[500px]",children:[e.jsx("button",{onClick:a,className:"bg-blue text-center text-xl text-white rounded-lg m-[10px] w-[30px] leading-[30px]",children:"X"}),e.jsx("div",{className:"m-7 overflow-auto max-h-[400px]",children:r})]})}):null]})}function S(){return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-xl font-bold mb-3 border-b-2 border-sand",children:"이용 약관 동의"}),e.jsx("h2",{className:"text-lg font-bold mb-2",children:"제 1장 총칙"}),e.jsxs("ol",{className:"m-2",children:[e.jsxs("li",{children:[e.jsx("h3",{className:"font-semibold m-2",children:"제 1 조(목적)"}),e.jsx("p",{children:'본 약관은 Jeju All in One 웹사이트(이하 "Jeju All in One ")가 제공하는 모든 서비스(이하 "서비스 ")의 이용조건 및 절차, 회원과 Jeju All in One의 권리, 의무, 책임사항과 기타 필요한 사항을 규정함을 목적으로 합니다.'}),e.jsx("br",{})]}),e.jsxs("li",{children:[e.jsx("h3",{className:"font-semibold m-1",children:"제 2 조(약관의 효력과 변경)"}),e.jsxs("ol",{className:"m-2",children:[e.jsx("li",{children:"1. Jeju All in One은 이용자가 본 약관 내용에 동의하는 경우, Jeju All in One의 서비스 제공 행위 및 회원의 서비스 사용 행위에 본 약관이 우선적으로 적용됩니다."}),e.jsx("br",{}),e.jsx("li",{children:"2. Jeju All in One은 약관을 개정할 경우, 적용일자 및 개정사유를 명시하여 현행약관과 함께 Jeju All in One의 초기화면에 그 적용일 7일 이전부터 적용 전일까지 공지합니다. 단, 회원에 불리하게 약관내용을 변경하는 경우에는 최소한 30일 이상의 사전 유예기간을 두고 공지합니다. 이 경우 Jeju All in One은 개정 전 내용과 개정 후 내용을 명확하게 비교하여 회원이 알기 쉽도록 표시합니다."}),e.jsx("br",{}),e.jsx("li",{children:"3. 변경된 약관은 Jeju All in One 홈페이지에 공지하거나 e-mail을 통해 회원에게 공지하며, 약관의 부칙에 명시된 날부터 그 효력이 발생됩니다. 회원이 변경된 약관에 동의하지 않는 경우, 회원은 본인의 회원등록을 취소(회원탈퇴)할 수 있으며, 변경된 약관의 효력 발생일로부터 7일 이내에 거부의사를 표시하지 아니하고 서비스를 계속 사용할 경우는 약관 변경에 대한 동의로 간주됩니다."}),e.jsx("br",{})]})]}),e.jsxs("li",{children:[e.jsx("h3",{className:"font-semibold m-1",children:"제 3 조(약관 외 준칙)"}),e.jsx("p",{children:"본 약관에 명시되지 않은 사항은 전기통신기본법, 전기통신사업법, 정보통신윤리위원회심의규정, 정보통신 윤리강령, 프로그램보호법 및 기타 관련 법령의 규정에 의합니다."}),e.jsx("br",{})]}),e.jsxs("li",{children:[e.jsx("h3",{className:"font-semibold m-1",children:"제 4 조(용어의 정의)"}),e.jsx("p",{children:"본 약관에서 사용하는 용어의 정의는 다음과 같습니다."}),e.jsx("br",{}),e.jsxs("ol",{children:[e.jsx("li",{children:"1. 이용자 : 본 약관에 따라 Jeju All in One이 제공하는 서비스를 받는 자"}),e.jsx("br",{}),e.jsx("li",{children:"2. 가입 : Jeju All in One이 제공하는 신청서 양식에 해당 정보를 기입하고, 본 약관에 동의하여 서비스 이용계약을 완료시키는 행위"}),e.jsx("br",{}),e.jsx("li",{children:"3. 회원 : Jeju All in One에 개인 정보를 제공하여 회원 등록을 한 자로서 Jeju All in One이 제공하는 서비스를 이용할 수 있는 자."}),e.jsx("br",{}),e.jsx("li",{children:"4. 계정(ID) : 회원의 식별과 회원의 서비스 이용을 위하여 회원이 선정하고 Jeju All in One에서 부여하는 문자와 숫자의 조합"}),e.jsx("br",{}),e.jsx("li",{children:"5. 비밀번호 : 회원과 계정이 일치하는지를 확인하고 통신상의 자신의 비밀보호를 위하여 회원 자신이 선정한 문자와 숫자의 조합"}),e.jsx("br",{}),e.jsx("li",{children:"6. 탈퇴 : 회원이 이용계약을 종료시키는 행위"}),e.jsx("br",{}),e.jsx("li",{children:"7. 본 약관에서 정의하지 않은 용어는 개별서비스에 대한 별도 약관 및 이용규정에서 정의합니다."})]}),e.jsx("br",{})]})]})]})}function I(){return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-xl font-bold mb-3 border-b-2 border-sand",children:"개인정보 수집 및 이용 동의"}),e.jsxs("ol",{className:"m-3",children:[e.jsxs("li",{children:[e.jsx("h2",{className:"text-lg font-bold m-2",children:"가. 개인정보의 수집 및 이용 목적"}),e.jsxs("ol",{children:[e.jsx("li",{children:"1. Jeju All in One은 다음의 목적을 위하여 개인정보를 처리합니다. 처리하고 있는 개인정보는 다음의 목적 이외의 용도로는 이용되지 않으며, 이용 목적이 변경되는 경우에는 개인정보 보호법 제18조에 따라 별도의 동의를 받는 등 필요한 조치를 이행할 예정입니다."}),e.jsx("br",{}),e.jsx("li",{children:"2. Jeju All in One 서비스 제공을 위한 회원관리"}),e.jsx("br",{}),e.jsx("li",{children:"3. 공간정보 다운로드, 오픈API 신청 및 활용 등 포털 서비스 제공과 서비스 부정이용 방지를 목적으로 개인정보를 처리합니다."}),e.jsx("br",{})]})]}),e.jsxs("li",{children:[e.jsx("h2",{className:"text-lg font-bold m-2",children:"나. 정보주체와 법정대리인의 권리ㆍ의무 및 행사방법"}),e.jsxs("ol",{children:[e.jsx("li",{children:"1. 정보주체(만 14세 미만인 경우에는 법정대리인을 말함)는 언제든지 개인정보 열람·정정·삭제·처리정지 요구 등의 권리를 행사할 수 있습니다."}),e.jsx("br",{}),e.jsx("li",{children:"2. 제1항에 따른 권리 행사는 개인정보보호법 시행규칙 별지 제8호 서식에 따라 작성 후 서면, 전자우편 등을 통하여 하실 수 있으며, 기관은 이에 대해 지체 없이 조치하겠습니다."}),e.jsx("br",{}),e.jsx("li",{children:"3. 제1항에 따른 권리 행사는 정보주체의 법정대리인이나 위임을 받은 자 등 대리인을 통하여 하실 수 있습니다. 이 경우 개인정보 보호법 시행규칙 별지 제11호 서식에 따른 위임장을 제출하셔야 합니다."}),e.jsx("br",{}),e.jsx("li",{children:"4. 개인정보 열람 및 처리정지 요구는 개인정보 보호법 제35조 제5항, 제37조 제2항에 의하여 정보주체의 권리가 제한 될 수 있습니다."}),e.jsx("br",{}),e.jsx("li",{children:"5. 개인정보의 정정 및 삭제 요구는 다른 법령에서 그 개인정보가 수집 대상으로 명시되어 있는 경우에는 그 삭제를 요구할 수 없습니다."}),e.jsx("br",{}),e.jsx("li",{children:"6. 정보주체 권리에 따른 열람의 요구, 정정ㆍ삭제의 요구, 처리정지의 요구 시 열람 등 요구를 한 자가 본인이거나 정당한 대리인인지를 확인합니다."}),e.jsx("br",{})]})]}),e.jsxs("li",{children:[e.jsx("h2",{className:"text-lg font-bold m-2",children:"다. 수집하는 개인정보의 항목"}),e.jsx("p",{children:"Jeju All in One 회원정보(필수): 이름, 이메일(아이디), 비밀번호"}),e.jsx("br",{})]}),e.jsxs("li",{children:[e.jsx("h2",{className:"text-lg font-bold m-2",children:"라. 개인정보의 보유 및 이용기간"}),e.jsx("p",{children:"Jeju All in One은 법령에 따른 개인정보 보유ㆍ이용기간 또는 정보주체로부터 개인정보를 수집 시에 동의 받은 개인정보 보유ㆍ이용기간 내에서 개인정보를 처리ㆍ보유합니다."}),e.jsx("br",{}),e.jsxs("ul",{children:[e.jsx("p",{className:"font-semibold",children:"Jeju All in One 회원정보"}),e.jsx("li",{children:"- 수집근거: 정보주체의 동의"}),e.jsx("li",{children:"- 보존기간: 회원 탈퇴 요청 전까지(1년 경과 시 재동의)"}),e.jsx("li",{children:"- 보존근거: 정보주체의 동의"})]}),e.jsx("br",{})]}),e.jsxs("li",{children:[e.jsx("h2",{className:"text-lg font-bold m-2",children:"마. 동의 거부 권리 및 동의 거부에 따른 불이익"}),e.jsx("p",{children:"위 개인정보의 수집 및 이용에 대한 동의를 거부할 수 있으나, 동의를 거부할 경우 회원 가입이 제한됩니다."})]})]})]})}function P({setIsAgreed:r}){const[s,d]=o.useState(!1),[a,x]=o.useState(!1),[h,t]=o.useState(!1),m=c=>{const i=c.target.checked;d(i),x(i),t(i)},n=c=>i=>{c(i.target.checked)};return o.useEffect(()=>{!a||!h?(d(!1),r(!1)):(d(!0),r(!0))},[a,h]),o.useEffect(()=>{s&&(x(s),t(s))},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-2 my-3",children:[e.jsx(p,{id:"checkAll",name:"checkAll",placeholder:"전체 약관 동의",className:"w-[400px] px-5 py-4 bg-gray-200 rounded-md",onChange:m,checked:s}),e.jsxs("div",{className:"flex justify-between items-center px-5",children:[e.jsx(p,{id:"checkUse",name:"checkUse",placeholder:"이용 약관 동의",className:"pt-1",onChange:n(x),checked:a}),e.jsx(g,{children:e.jsx(S,{})})]}),e.jsxs("div",{className:"flex justify-between items-center px-5",children:[e.jsx(p,{id:"checkPrivacy",name:"checkPrivacy",placeholder:"개인정보 수집 및 이용 동의",onChange:n(t),checked:h}),e.jsx(g,{children:e.jsx(I,{})})]})]}),e.jsx(w,{disabled:!a||!h,bgColor:s?"bg-blue":"bg-sand",children:"가입하기"})]})}function F(r){return/^[a-z]+[a-z0-9]{2,19}$/g.test(String(r).toLowerCase())}function z(r){return/^(?=.*[a-zA-Z])(?=.*[,~!@#$%^*+=-]).{8,16}$/.test(String(r).toLowerCase())}function L(r){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r).toLowerCase())}function T(){const r=N(),[s,d]=o.useState({username:"",nickname:"",email:"",password:"",passwordConfirm:""}),[a,x]=o.useState(!1),h=async m=>{m.preventDefault();try{const{username:n,nickname:c,email:i,password:j,passwordConfirm:b}=s,A={email:i,emailVisibility:!0,username:n,nickname:c,password:j,passwordConfirm:b};if(!n){l.error("아이디는 필수 입력 값입니다.");return}if(!i){l.error("이메일은 필수 입력 값입니다.");return}if(!c){l.error("닉네임은 필수 입력 값입니다.");return}if(!j){l.error("비밀번호는 필수 입력 값입니다.");return}if(!F(n)){l.error("아이디 형식이 잘못되었습니다.");return}if(!z(j)){l.error("비밀번호 형식이 잘못되었습니다.");return}if(!L(i)){l.error("이메일 형식이 잘못되었습니다.");return}if(j!==b){l.error("비밀번호가 일치하지 않습니다.");return}if(!a){l.error("약관에 동의해주세요.");return}const f=await C.collection("user").create(A);f!=null&&f.id?(l.success("회원가입이 완료됐습니다."),r("/login")):l.error("회원가입에 실패했습니다.")}catch(n){if(n.response.code===400){const{username:c,email:i,nickname:j}=n.response.data;c&&c.message.includes("already")&&l.error("아이디가 중복됩니다."),i&&i.message.includes("already")&&l.error("이메일이 중복됩니다."),j&&j.message.includes("unique")&&l.error("닉네임이 중복됩니다.")}else n instanceof k||(console.error("회원가입 실패:",n),l.error("회원가입에 실패했습니다."))}},t=m=>{const{name:n,value:c}=m.target;d({...s,[n]:c})};return e.jsxs(e.Fragment,{children:[e.jsx(J,{title:"Jeju All in One - 회원가입"}),e.jsxs(O,{children:[e.jsx(y,{}),e.jsxs("form",{onSubmit:h,className:"flex flex-col gap-3 mb-5",children:[e.jsx(u,{id:"id",type:"text",name:"username",placeholder:"아이디",value:s.username,onChange:t}),e.jsx(u,{id:"password",type:"password",name:"password",placeholder:"비밀번호",onChange:t}),e.jsx("p",{className:"text-sand",children:"특수문자 포함 최소 8자 이상, 16자 이하로 만들어 주세요."}),e.jsx(u,{id:"checkPassword",type:"password",name:"passwordConfirm",placeholder:"비밀번호 확인",onChange:t}),e.jsx(u,{id:"nickname",type:"text",name:"nickname",placeholder:"닉네임",value:s.nickname,onChange:t}),e.jsx(u,{id:"email",type:"text",name:"email",placeholder:"이메일",value:s.email,onChange:t}),e.jsx(P,{setIsAgreed:x})]}),e.jsxs("p",{className:"mt-3",children:["이미 회원이신가요? ",e.jsx(v,{link:"/login",className:"font-extrabold text-blue",children:"로그인 하기"})]})]})]})}export{T as default};
